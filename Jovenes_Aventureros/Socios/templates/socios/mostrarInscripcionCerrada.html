{% extends "jovenesAventureros/base.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}

<style>
    /* CAJA SEMITRANSPARENTE M√ÅS ANCHA */
    .contenedorFormularioSocio {
        background: rgba(255,255,255,0.78);
        padding: 35px;
        border-radius: 25px;
        border: 4px solid rgba(26,53,199,1);
        box-shadow: 0 0 25px rgba(0,0,0,0.35);

        width: 135%;         /* üî• M√°s ancho */
        max-width: 1850px;   /* üî• Caja m√°s grande */
        min-height: 540px;
        margin: 0 auto;
        margin-top: -20px;
        margin-left: -195px;
    }

    /* ENVOLTORIO SIN SCROLL */
    .tabla-wrapper {
        width: 100%;
        overflow-x: hidden !important; /* üî• Eliminamos scroll */
    }

    /* TABLA M√ÅS ANCHA Y REPARTIDA */
    .table {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed; /* üî• Evita que la tabla rompa la caja */
    }

    .table th, 
    .table td {
        border: 1px solid rgba(26,53,199,0.35);
        padding: 9px 10px;
        font-size: 14px;               /* M√°s legible */
        background: rgba(255,255,255,0.9);
        word-break: break-word;
        white-space: normal !important;
        text-align: center;
    }

    .table th {
        background: rgba(26,53,199,0.90);
        color: #FBF707;
        font-weight: bold;
        font-size: 14px;
        padding-top: 14px;
        padding-bottom: 14px;
    }

    /* BOTONES */
    .tabla-btn {
        padding: 6px 12px;
        font-size: 13px;
        font-weight: bold;
        background: #FBF707;
        color: rgba(26,53,199,1);
        border-radius: 10px;
        text-decoration: none;
        display: inline-block;
        transition: .25s;
    }

    .tabla-btn:hover {
        transform: scale(1.07);
        opacity: .9;
    }
</style>


<div class="overlap-groupRegister">

    <div class="contenedorFormularioSocio">

        <p class="gestiones" 
           style="font-size: 32px; text-align: center; margin-bottom: 25px; margin-top: -10px;">
            Rutas Realizadas
        </p>

        <div class="tabla-wrapper">
            <table class="table">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Destino</th>
                        <th>Fecha</th>
                        <th>Distancia</th>
                        <th>Dificultad</th>
                        <th>Precio Socio</th>
                        <th>Precio No Socio</th>
                        <th>Recaudaci√≥n<br>Met√°lico</th>
                        <th>Recaudaci√≥n<br>Banco</th>
                        <th>N¬∫/PS</th>
                        <th>N¬∫/PNS</th>
                        <th>Pago<br>Met√°lico</th>
                        <th>Pago Banco</th>
                        <th>Inscritos</th>
                        <th>Lista Bus</th>
                        <th>Lista Seguro</th>
                        <th>Reabrir</th>
                    </tr>
                </thead>

                <tbody>
                {% for ins in entity %}
                    <tr>
                        <td>{{ ins.nombre }}</td>
                        <td>{{ ins.destino }}</td>
                        <td>{{ ins.fecha }}</td>
                        <td>{{ ins.distancia }} Km</td>
                        <td>{{ ins.dificultad }}</td>
                        <td>{{ ins.precio_socio }} ‚Ç¨</td>
                        <td>{{ ins.precio_no_socio }} ‚Ç¨</td>
                        <td>{{ ins.recaudacion_metalico }} ‚Ç¨</td>
                        <td>{{ ins.recaudacion_banco }} ‚Ç¨</td>
                        <td>{{ ins.total_socios }}</td>
                        <td>{{ ins.total_no_socios }}</td>
                        <td>{{ ins.pago_metalico }}</td>
                        <td>{{ ins.pago_banco }}</td>

                        <td><a href="{% url 'Usuarios Inscritos' ins.id %}" class="tabla-btn">Inscritos</a></td>
                        <td><a href="{% url 'Exportar a PDF' ins.id %}" class="tabla-btn">Exportar</a></td>
                        <td><a href="{% url 'Exportar a PDF V2' ins.id %}" class="tabla-btn">Exportar</a></td>
                        <td><a href="{% url 'Reabrir Inscripcion' ins.id %}" class="tabla-btn">Reabrir</a></td>

                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        <div style="text-align: right; margin-top: 30px; margin-right: 20px;">
            <a href="{% url 'Confirmacion' %}" 
                style="background: #FBF707; color: rgba(26,53,199,1);
                    padding: 12px 22px; font-size: 16px; 
                    border-radius: 12px; font-weight: bold; text-decoration: none;">
                Borrado Anual Socios
            </a>
        </div>

    </div>

</div>

<div class="boIni"></div>

{% endblock %}
